Você já aprendeu bastante coisas sobre o SuperCollider. Nas seções anteriores, este tutorial apresentou para você detalhes minuciosos sobre a própria linguagem, de variáveis a fechamentos e muito mais. Você também aprendeu como criar \texttt{Pbind}s interessantes, usando vários membros da família Pattern.

Esta parte do tutorial vai (finalmente!) apresentar síntese e processamento sonoros com o SuperCollider. Começaremos com o tópico das Unit Generators ("Unidades Geradoras" ou "Geradores Unitários", que daqui em diante chamaremos UGens). \footnote{A maioria dos tutoriais começa diretamente com as UGens; nesta introdução ao SC, no entanto, escolhemos primeiro enfatizar a família Pattern (\texttt{Pbind} e sua turma) para uma abordagem pedagógica diferente.}

\section{UGens}

Você já viu algumas Unidades Geradoras (UGens) em ação nas seções \ref{sec:first-sine} e \ref{sec:nesting}. O que é uma UGen? Uma unidade geradora é um objeto que gera sinais sonoros ou sinais de controle. Estes sinais são sempre calculados no servidor. Há muitas classes de unidades geradoras, todas elas derivando da classe UGen. \texttt{SinOsc} e \texttt{LFNoise0} são exemplos de UGens. Para mais detalhes, veja os arquivos de Ajuda chamados "Unit Generators and Synths" e "Tour of UGens". 

Quando você tocou seus Pbinds uns capítulos atrás, o som padrão era sempre o mesmo: um sintetizador simples semelhante a um piano. Este sintetizador é feito de uma combinação de unidades geradoras.\footnote{Como você usou \texttt{Pbind}s até aqui para fazer som no SuperCollider, pode ser tentador pensar: \textit{"Entendi, então o \texttt{Pbind} é uma Unidade Geradora!"} Não é o caso. \texttt{Pbind} não é uma Unidade Geradora---ele é apenas uma receita para fazer eventos musicais (partitura). \textit{"Então o \texttt{EventStreamPlayer}, a coisa que aparece quando eu chamo \texttt{play} em um \texttt{Pbind}, ISSO deve ser uma UGen!"} A resposta ainda é não. O \texttt{EventStreamPlayer} é apenas o tocador, como um pianista, e o pianista não gera som. Continuando com esta comparação didática, o \emph{instrumento piano} é a coisa que realmente vibra e produz som. Está é uma analogia mais adequada para a UGen: não é a partitura, não é o tocador: é o instrumento. Quando você fez música com \texttt{Pbind}s antes, o SC criava um \texttt{EventStreamPlayer} para tocar sua partitura com seu sintetizador de piano embutido. Você não tinha de se preocupar em criar o piano ou algo assim---o SuperCollider fez todo o trabalho nos bastidores para você. Aquele sintetizador de piano escondido é feito de uma combinação de algumas Unidades Geradoras.} Você aprenderá como combinar unidades geradoras para criar todo tipo de instrumentos com sons sintéticos e processados. O próximo exemplo parte da nossa primeira senoide para criar um instrumento eletrônico que você pode tocar ao vivo com o mouse.

\subsection{Controle do Mouse: Theremin instantâneo}

Aqui está um sintetizador simples que você pode tocar em tempo real. É uma simulação do Theremin, um dos mais antigos instrumentos eletrônicos:

\begin{lstlisting}[style=SuperCollider-IDE, basicstyle=\scttfamily\footnotesize]
{SinOsc.ar(freq: MouseX.kr(300, 2500), mul: MouseY.kr(0, 1))}.play;
\end{lstlisting}

Se você não sabe o que é um Theremim, por favor pare tudo que está fazendo e procure por "Clara Rockmore Theremin" no YouTube. Depois volte aqui e tente tocar "O Cisne" com o seu Theremin de SuperCollider.

\texttt{SinOsc}, \texttt{MouseX} e \texttt{MouseY} são UGens. \texttt{SinOsc} está gerando o som da onda senoidal. Os outros dois estão captando o movimento do seu cursor na tela (X para o movimento horizontal e Y para o movimento vertical) e usando os números para alimentar os valores de frequência e amplitude da senoide. Bem simples, mas já bem divertido!

\subsection{Dente-de-serra e onda quadrada; gráfico e osciloscópio}

O Theremin acima usou um oscilador senoidal. Há outras formas de onda que você pode usar para fazer som. Rode as linhas abaixo---elas usam o conveniente método \texttt{plot} ("gráfico")---para olhar a forma do \texttt{SinOsc} e compará-lo com \texttt{Saw} e \texttt{Pulse}. As linhas abaixo não produzem som---elas apenas permitem que você visualize um trecho da forma de onda.

\begin{lstlisting}[style=SuperCollider-IDE, basicstyle=\scttfamily\footnotesize]
{ SinOsc.ar }.plot; // onda senoidal
{ Saw.ar }.plot; // onda dente-de-serra
{ Pulse.ar }.plot; // onda quadrada
\end{lstlisting}

Agora reescreva sua linha de Theremin, substituindo \texttt{SinOsc} por \texttt{Saw}, depois por \texttt{Pulse}. Escute como eles soam diferente. Finalmente, experimente \texttt{.scope} em vez de \texttt{.play} no seu código de Theremin e você poderá ver uma representação da forma de onda em tempo real (abrirá uma janela "Stethoscope", que na realidade é um osciloscópio).
